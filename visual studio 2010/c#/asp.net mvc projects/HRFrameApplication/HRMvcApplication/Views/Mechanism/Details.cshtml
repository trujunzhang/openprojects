@model HRMvcApplication.Models.MechanismDetailModel


<link href="@Url.Content("~/Content/themes/base/jquery.ui.all.css")" rel="Stylesheet" type="text/css" />
<script src="@Url.Content("~/Scripts/jquery-1.5.1.min.js")" type="text/javascript"> </script>
<script src="@Url.Content("~/Scripts/modernizr-1.7.min.js")" type="text/javascript"> </script>
<script src="@Url.Content("~/Scripts/jquery-ui-1.8.11.min.js")" type="text/javascript"> </script>
<script src="@Url.Content("~/Scripts/jquery.validate.min.js")" type="text/javascript"> </script>

<style type="text/css">
    #contactlist {
        height: 100%;
        width: 100%;
    }
</style>


<script type="text/javascript">
    $(function() {
        $("#NoteDialog").dialog({
            autoOpen: false,
            width: 700,
            height: 430,
            modal: true,
            title: "添加联系人",
            beforeclose: function(event, ui) {
                $("form").submit();
            },
            buttons: {
                Cancel: function() {
                    $(this).dialog("close");
                }
            }
        });
        $("#add").click(function() {
            //var id = $("#SelectedMechanismid").val();
            //alert("add link");
            //.load("/Mechanism/AppendPersonInCharge?id=" + id ,           
            $("#NoteDialog").html("")
                .dialog("option", "closeOnEscape", false)
                .load("http://www.baidu.com",
                    function() { $("#NoteDialog").dialog("open"); });
        });
    });

</script>


@using (Html.BeginForm())
{
    <div id="modelviewer" style="float: left; height: 100%; width: 50%;">
        @Html.ValidationSummary(true)
        <fieldset>
            <legend>C_Mechanism</legend>

            <div class="editor-label">
                @Html.LabelFor(model => model.SelectedModel.机构简称)
            </div>
            <div class="editor-field">
                @Html.EditorFor(model => model.SelectedModel.机构简称)
                @Html.ValidationMessageFor(model => model.SelectedModel.机构简称)
            </div>

            <div class="editor-label">
                @Html.LabelFor(model => model.SelectedModel.机构名称)
            </div>
            <div class="editor-field">
                @Html.EditorFor(model => model.SelectedModel.机构名称)
                @Html.ValidationMessageFor(model => model.SelectedModel.机构名称)
            </div>

            <div class="editor-label">
                @Html.LabelFor(model => model.SelectedModel.电话)
            </div>
            <div class="editor-field">
                @Html.EditorFor(model => model.SelectedModel.电话)
                @Html.ValidationMessageFor(model => model.SelectedModel.电话)
            </div>

            <div class="editor-label">
                @Html.LabelFor(model => model.SelectedModel.邮政编码)
            </div>
            <div class="editor-field">
                @Html.EditorFor(model => model.SelectedModel.邮政编码)
                @Html.ValidationMessageFor(model => model.SelectedModel.邮政编码)
            </div>

            <div class="editor-label">
                @Html.LabelFor(model => model.SelectedModel.网址)
            </div>
            <div class="editor-field">
                @Html.EditorFor(model => model.SelectedModel.网址)
                @Html.ValidationMessageFor(model => model.SelectedModel.网址)
            </div>

            <div class="editor-label">
                @Html.LabelFor(model => model.SelectedModel.传真)
            </div>
            <div class="editor-field">
                @Html.EditorFor(model => model.SelectedModel.传真)
                @Html.ValidationMessageFor(model => model.SelectedModel.传真)
            </div>

            <div class="editor-label">
                @Html.LabelFor(model => model.SelectedModel.地址)
            </div>
            <div class="editor-field">
                @Html.EditorFor(model => model.SelectedModel.地址)
                @Html.ValidationMessageFor(model => model.SelectedModel.地址)
            </div>

            <p>
                <input type="submit" id="create" value="create" />
            </p>
        </fieldset>
    </div>
    @Html.HiddenFor(model => model.SelectedMechanismid)
    <div id="contractviewer" style="float: left; height: 100%; width: 50%;">
        <fieldset >
            <legend>管理联系人</legend>
            <div id="divcontract" style="height: 200px; width: 100%;">
                @Html.ListBoxFor(model => model.RequestedProducts, Model.RequestedSelectList, new {id = "contactlist"})                                                        
            </div>
            <p>
                <span>
                    <input type="button" id="add"  style="width: 100%;" value="添加" />                                                
                </span>   
                <span >
                    <input type="submit" name="remove" id="remove" style="width: 100%;" value="删除" />                                                
                </span>   
                <span >
                    <input type="submit" name="up" id="up" style="width: 100%;" value="上移" />
                </span>   
                <span >
                    <input type="submit" name="down" id="down" style="width: 100%;" value="下移" />                                                                    
                </span>   
            </p>
        </fieldset>
    </div>
}

	
<div id ="NoteDialog"/>